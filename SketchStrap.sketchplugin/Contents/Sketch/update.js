var that=this;function __skpm_run(e,t){that.context=t;var r=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/update.js")}({"./src/lib/sketch.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getControlPanel",function(){return o}),r.d(t,"updateControlPanel",function(){return s}),r.d(t,"layerIterator",function(){return c}),r.d(t,"recurrentIteration",function(){return i}),r.d(t,"selectionIterator",function(){return l}),r.d(t,"processElement",function(){return u}),r.d(t,"getControlPanelElems",function(){return f}),r.d(t,"populate",function(){return d}),r.d(t,"getColorFromAttributes",function(){return b}),r.d(t,"getCSS",function(){return p});var n=r("./src/lib/styles.js"),a=r("./src/lib/utils.js");function o(e,t){for(var r=e.api().selectedDocument,n=0;n<r.pages.length;n++)"control-panel"==r.pages[n].sketchObject.name()&&t(r.pages[n])}function s(e,t,r){o(e,function(a){e.api();var o=0,s=0;a.iterate(function(e){e.iterate(function(e){var r=e.name.substr(1);if(t&&t[r]){o++;var a=t[r].replace(/^ +/g,"");if(/^(#|rgba|transparent|white|black)(.*)/g.test(a))e.iterate(function(e){e.isShape&&(e.style.fills=[a.replace(/ +/g,"")])});else if(/^(\.|[0-9])+(rem)?/g.test(a)){/^(\.|[0-9])+(rem)?/g.exec(a);e.iterate(function(e){if(e.isShape){var t=manageUnits(a);e.sketchObject.layers().forEach(function(e){e.setCornerRadiusFromComponents([t,t,t,t].join(";"))})}})}else/(inset)/g.test(a)?e.iterate(function(e){if(e.isShape)for(var r=a.split("), "),o=0;o<r.length;o++){var s=/(inset )?(.+) (.+) (.+) (rgba|#)(.*)/g.exec(r[o]);s.splice(0,1),Object(n.setShadows)(s,t,e)}}):/(shadow)/g.test(r)?e.iterate(function(e){if(e.isShape){var r=/(.+) (.+) (.+) (rgba|#)(.*)/g.exec(a);Object(n.setShadows)(r,t,e)}}):s++}})}),log(o-s+" styles applied to control panel."),log(s+" unable to parse."),r()})}function c(e,t){for(var r=e.api().selectedDocument.pages,n=0;n<r.length;n++){if("control-panel"!=r[n].name&&"Symbols"!=r[n].name)r[n].iterate(function(e){e.iterate(function(e){i(e,t)})})}}function i(e,t){e.isGroup?e.iterate(function(e){i(e,t)}):(e.isShape||e.isText)&&t(e.sketchObject)}function l(e,t){for(var r=e.selection,n=0;n<r.length;n++){var a=r[n];if("MSLayerGroup"==a.className())for(var o=0;o<a.children().length;o++){var s=a.children()[o];"MSShapeGroup"!=s.className()&&"MSTextLayer"!=s.className()||t(s)}else"MSShapeGroup"!=a.className()&&"MSTextLayer"!=a.className()||t(a)}}function u(e,t,r){var n,o=e.api();if(null!=(n=/_(.*)\((.*)\)/g.exec(t.name()))&&!(n.length<3)){n.splice(0,2);var s=n[0].match(/[A-z-0-9]+: *\$[A-z-]+;/g);if(null!=s)for(var c=0;c<s.length;c++){var i,l=s[c],u=/(.*): *\$(.*);/g.exec(l),f=u[2];switch(u[1]){case"fill":i=b(r[f].style.sketchObject.stylePartsOfType(0)),new o.Style(t.style()).fills=[i];break;case"fill-bright":i=b(r[f].style.sketchObject.stylePartsOfType(0)),new o.Style(t.style()).fills=[i,"rgba(255,255,255,.9)"];break;case"border-color":i=b(r[f].style.sketchObject.stylePartsOfType(0)),new o.Style(t.style()).borders=[i];break;case"border-color-bright":i=b(r[f].style.sketchObject.stylePartsOfType(0)),new o.Style(t.style()).borders=[i,"rgba(255,255,255,.8)"];break;case"border-radius":var d=r[f].sketchObject.layers()[0].cornerRadiusString();t.layers().forEach(function(e){void 0!==e.setCornerRadiusFromSimpleString&&e.setCornerRadiusFromSimpleString(d)});break;case"box-shadow":var p=r[f].style.sketchObject.shadows();t.style().shadows=[];for(var h=0;h<p.length;h++)t.style().shadows().addObject(p[h]);t.style().innerShadows=[];var g=r[f].style.sketchObject.innerShadows();for(h=0;h<g.length;h++)t.style().innerShadows().addObject(p[h]);break;case"color":i=b(r[f].style.sketchObject.stylePartsOfType(0)),t.textColor=Object(a.colorFromString)(i)}}}}function f(e){var t={};return e.iterate(function(e){e.iterate(function(e){e.isGroup&&e.iterate(function(e){if(e.isShape){var r=e.container.name.substr(1);t[r]=e}})})}),t}function d(e,t){o(e,function(r){var n=f(r);"selection"==t?l(e,function(t){u(e,t,n)}):c(e,function(t){u(e,t,n)})})}function b(e){return e.objectAtIndex(0).CSSAttributeString().replace(/background| |:|;/g,"")}function p(e){for(var t="",r=Object.keys(e),n=0;n<r.length;n++){var a=r[n];t+="$"+a+"{"+e[a].sketchObject.CSSAttributeString().replace("/* color: */","")+"}"}return t}},"./src/lib/styles.js":function(e,t,r){"use strict";r.r(t),r.d(t,"createShadow",function(){return a}),r.d(t,"setShadows",function(){return o});var n=r("./src/lib/utils.js");function a(e,t,r,a,o){var s;return(s=o?MSStyleInnerShadow.alloc().init():MSStyleShadow.alloc().init()).color=Object(n.colorFromString)(a),s.offsetY=t,s.blurRadius=r,s.offsetX=e,s.isEnabled=1,s}function o(e,t,r){if(null!=e&&e.length>2){var o=Object(n.parseColor)(e[4]+e[5],t),s="inset "==e[0],c=a(Object(n.manageUnits)(e[1]),Object(n.manageUnits)(e[2]),Object(n.manageUnits)(e[3]),o,s);s?(r.style.sketchObject.innerShadows=[],r.style.sketchObject.innerShadows().addObject(c)):(r.style.sketchObject.shadows=[],r.style.sketchObject.shadows().addObject(c))}}},"./src/lib/utils.js":function(e,t,r){"use strict";function n(e){var t=/([0-9.]+)(rem|px)?/g.exec(e);return 2==t.length?e:"rem"==t[2]?a(e):t[1]}function a(e){return 16*e.replace(/rem/g,"")}function o(e){var t=MSImmutableColor.colorWithSVGString_(e);return MSColor.alloc().initWithImmutableObject_(t)}function s(e,t){var r=/(theme-color)\(\"(.*)\"\)/g,n=r.exec(e);if(n){var a=n[2];return e.replace(r,c(t[a]))}return e}function c(e){var t;if(e=e.replace(/ /g,""),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",")}r.r(t),r.d(t,"manageUnits",function(){return n}),r.d(t,"remToPx",function(){return a}),r.d(t,"colorFromString",function(){return o}),r.d(t,"parseColor",function(){return s}),r.d(t,"hexToRgb",function(){return c})},"./src/update.js":function(e,t,r){"use strict";r.r(t),r.d(t,"update",function(){return a}),r.d(t,"updateSelected",function(){return o});var n=r("./src/lib/sketch.js");function a(e){Object(n.populate)(e)}function o(e){Object(n.populate)(e,"selection")}}});"default"===e&&"function"==typeof r?r(t):r[e](t)}that.update=__skpm_run.bind(this,"update"),that.onRun=__skpm_run.bind(this,"default"),that.updateSelected=__skpm_run.bind(this,"updateSelected");